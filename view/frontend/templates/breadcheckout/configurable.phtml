<?php /** @var $this Bread\BreadCheckout\Block\Product\View */ ?>
<script type="text/javascript">
    document.Skus = {};
    spConfig = <?php echo $this->getJsonConfig(); ?>;

    require(['jquery'], function($) {
        $(document).ready(function () {
            $("#bread-checkout-btn").on('click', function() {
                console.log('checkout btn clicked');
               spConfig.getIdOfSelectedProduct();
            });

//            spConfig.updateButton = function () {
//                var simpleProductId = spConfig.getIdOfSelectedProduct();
//                document.selectedSku = document.baseProductSku + "///" + document.Skus[simpleProductId];
//                document.selectedSimpleProductId = simpleProductId;
//                document.resetPriceAndSku();
//            };

            spConfig.getIdOfSelectedProduct = function() {
                $.each(this.attributes, function(id) {
                    var $element = $("#product_addtocart_form [attribute-id='" + id + "']");
                    console.log($element);
                });
            };

            <?php
            $itemIds = $this->getChildProductIds($this->getProduct());

            if (!empty($itemIds)) {
                foreach ($itemIds as $val) {
                    foreach ($val as $k => $v) echo 'document.Skus[' . $k . '] = "' . $v . '";' . "\n";
                }
            }
            ?>
        });
    });
</script>